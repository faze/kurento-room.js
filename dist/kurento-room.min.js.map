{"version":3,"file":"kurento-room.min.js","sources":["kurento-room.js"],"names":["KurentoRoom","wsUri","callback","options","rpc","rpcParams","that","userName","ws","this","WebSocket","onopen","onerror","evt","data","onclose","console","log","request_timeout","RpcBuilder","packers","JsonRPC","request","info","JSON","stringify","method","onParticipantJoined","params","onParticipantPublished","onParticipantLeft","onNewMessage","iceCandidateEvent","onRoomClosed","onMediaError","error","prototype","msg","room","recvIceCandidate","setRpcParams","sendRequest","index","hasOwnProperty","encode","close","forced","leave","disconnectParticipant","stream","disconnect","Stream","participant","getLocalParticipant","Room","sendMessage","user","message","userMessage","roomMessage","response","connected","sendCustomRequest","Participant","kurento1","local1","room1","options1","i","id","streams","kurento","local","length","addStream","setId","newId","getID","getStreams","dispose","key","sendIceCandidate","candidate","debug","endpointName","sdpMid","sdpMLineIndex","ee","subscribeToStreams","name","EventEmitter","participants","localParticipant","addEventListener","eventName","listener","addListener","emitEvent","eventsArray","connect","exParticipants","roomEvent","value","push","subscribe","pid","getWebRtcPeer","addIceCandidate","getParticipant","getGlobalID","sender","sdpOffer","wrStream","wp","video","videoElements","elements","showMyRemote","localMirrored","showSpinner","spinnerParentId","progress","document","createElement","style","background","getElementById","appendChild","hideSpinner","spinnerId","$","hide","initWebRtcPeer","sdpOfferCallback","videoStream","onicecandidate","bind","displayMyRemote","kurentoUtils","WebRtcPeer","WebRtcPeerSendrecv","generateOffer","WebRtcPeerSendonly","WebRtcPeerRecvonly","subscribeToMyRemote","mirrorLocalStream","wr","isLocalMirrored","getWrStream","playOnlyVideo","parentElement","thumbnailId","autoplay","controls","src","URL","createObjectURL","show","thumb","setAttribute","playThumbnail","container","className","createTextNode","init","constraints","audio","mandatory","maxWidth","optional","maxFrameRate","minFrameRate","getUserMedia","userStream","publishVideoCallback","sdpOfferParam","doLoopback","_this","processSdpAnswer","sdpAnswer","startVideoCallback","publish","answer","pc","RTCSessionDescription","type","sdp","peerConnection","setRemoteDescription","getRemoteStreams","onplay","elementId","videoId","split","unpublish","getAudioTracks","forEach","track","stop","getVideoTracks","disposeElement","element","parentNode","removeChild","define","amd","module","exports","call"],"mappings":"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"}